<?xml version="1.0" encoding="utf-8"?>
<extension version="2.5" type="plugin" group="content">
    <name>Content - Global Variables</name>
    <author>Lars Echterhoff</author>
    <creationDate>Nov 2014</creationDate>
    <copyright>Copyright (C) 2012 Echterhoff Medientechnik</copyright>
    <license>http://www.gnu.org/licenses/gpl-2.0.html GNU/GPL</license>
    <authorEmail>info@echterhoff.it</authorEmail>
    <authorUrl>www.echterhoff-medientechnik.de</authorUrl>
    <version>1.4.0dev</version>
    <description>
		<![CDATA[
        <p>Please check your plugin page if this plugin is activated: <a href="/administrator/index.php?option=com_plugins&view=plugins&filter_search=Global%20Variables">Click here</a></p>
		<p>This plugin gives you the possibility to define often reused text fragments and reuse it in every content as variable.<p/>
        <p>Further information on: <a href="https://github.com/echterhoff/plg-globalvariables" target="_new"><span class="icon icon-out-2"></span> https://github.com/echterhoff/plg-globalvariables</a></p>
		]]>
    </description>
<!--        <p><a href="#attrib-sources" data-toggle="tab" class="btn btn-large btn-success"><span class="icon icon-puzzle large"></span>&nbsp; Configure Sources</a></p>
        <p><a href="#attrib-settings" data-toggle="tab" class="btn btn-large"><span class="icon icon-options large"></span>&nbsp; Variable Settings</a></p>-->
    <files>
        <filename>index.html</filename>
        <filename plugin="globalvariables">globalvariables.php</filename>
        <folder>language</folder>
    </files>
    <languages>
        <language tag="en-GB">language/en-GB/en-GB.plg_content_globalvariables.ini</language>
        <language tag="en-GB">language/en-GB/en-GB.plg_content_globalvariables.sys.ini</language>
    </languages>
    <config>
        <fields name="params"
                class="controls controls-row"
        >
            <fieldset
                addfieldpath="/plugin/content/globalvariables/form/fields"
                name="sources"
                label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_SOURCE_TAB"
            >
                <field
                    name="note_variable_source"
                    type="note"
                    class="span6"
                    label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_SOURCE_NOTE_LABEL"
                    description="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_SOURCE_NOTE_DESC"
                />
                <field
                    name="variablesource"
                    type="sql"
                    class="span5"
                    default="0"
                    label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_SOURCE_LABEL"
                    query="SELECT id, title as variablesource FROM #__content"
                    key_field="id">
                    <option value="0">JFIELD_PLG_GLOBALVARIABLES_VARIABLE_SOURCE_DEFAULT_LABEL</option>
                </field>
<!--                <field
                    name="note_bug_in_repeatable"
                    type="note"
                    class="span6 alert alert-error"
                    label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_SOURCE_BUG_LABEL"
                    description="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_SOURCE_BUG_DESC"
                />-->
                <field name="direct_variable_input"
                       type="Blockrepeat"
                       icon="pencil"
                       filter="raw"
                       maximum="999"
                       select="JFIELD_PLG_GLOBALVARIABLES_DIRECT_VARIABLE_INPUT_BUTTON_LABEL"
                       label="JFIELD_PLG_GLOBALVARIABLES_DIRECT_VARIABLE_INPUT_LABEL"
                       description="JFIELD_PLG_GLOBALVARIABLES_DIRECT_VARIABLE_INPUT_DESC"
                       default='{"varname":["varname_text","varname_html"],"varvalue":["Simple text snippet example.","Simple \u003cem\u003eHTML\u003c/em\u003e snippet example."]}'>
                    <fields name="params">
                        <fieldset hidden="true"
                                  name="direct_variable_input_modal"
                                  repeat="true">
                            <field name="varname"
                                   label="JFIELD_PLG_GLOBALVARIABLES_DIRECT_VARIABLE_INPUT_VARNAME_LABEL"
                                   size="30"
                                   type="text" />
                            <field name="varvalue"
                                   label="JFIELD_PLG_GLOBALVARIABLES_DIRECT_VARIABLE_INPUT_VARVALUE_LABEL"
                                   size="1024"
                                   filter="raw"
                                   type="textarea" />
                        </fieldset>
                    </fields>
                </field>
                <field name="sourceconfiguration"
                       type="Blockrepeat"
                       icon="pencil"
                       maximum="999"
                       select="JFIELD_PLG_GLOBALVARIABLES_SOURCECONFIGURATION_BUTTON_LABEL"
                       label="JFIELD_PLG_GLOBALVARIABLES_SOURCECONFIGURATION_LABEL"
                       description="JFIELD_PLG_GLOBALVARIABLES_SOURCECONFIGURATION_DESC"
                       default='{"sourceactive":["0"],"sourcealias":["dropbox"],"sourceurl":["https://dl.dropboxusercontent.com/u/134085/globalvariables/testvariables.txt"]}'>
                    <fields name="params">
                        <fieldset hidden="true"
                                  name="sourceconfiguration_modal"
                                  repeat="true">
                            <field name="sourceactive" type="radio"
                                   default="1"
                                   label="JFIELD_PLG_GLOBALVARIABLES_SOURCECONFIGURATION_SOURCEACTIVE_LABEL"
                                  description="JFIELD_PLG_GLOBALVARIABLES_SOURCECONFIGURATION_SOURCEACTIVE_DESC">
                                <option value="0">Active</option>
                                <option value="1">Disabled</option>
                            </field>
                            <field name="sourcealias"
                                   label="JFIELD_PLG_GLOBALVARIABLES_SOURCECONFIGURATION_SOURCEALIAS_LABEL"
                                   description="JFIELD_PLG_GLOBALVARIABLES_SOURCECONFIGURATION_SOURCEALIAS_DESC"
                                   size="30"
                                   type="text" />
                            <field name="sourceurl"
                                   label="JFIELD_PLG_GLOBALVARIABLES_SOURCECONFIGURATION_SOURCEURL_LABEL"
                                   description="JFIELD_PLG_GLOBALVARIABLES_SOURCECONFIGURATION_SOURCEURL_DESC"
                                   size="1024"
                                   type="text" />
                        </fieldset>
                    </fields>
                </field>

            </fieldset>
            <fieldset name="variable_setting" label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_SETTINGS_TAB">
                <field
                    name="note_variable_source"
                    type="note"
                    class="span6"
                    label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_SETTINGS_NOTE_LABEL"
                    description="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_SETTINGS_NOTE_DESC"
                />
                <field
                    name="note_variable_source_style"
                    type="note"
                    class="span6"
                    label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_STYLE_LABEL"
                    description="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_STYLE_DESC"
                />
                <field name="variable_style_legacy" 
                       type="checkbox" label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_STYLE_OPTION_LEGACY"
                       description="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_STYLE_OPTION_LEGACY_DESC" value="legacy" />
                <field name="variable_style_curly" default="1"
                       type="checkbox" label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_STYLE_OPTION_CURLY"
                       description="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_STYLE_OPTION_CURLY_DESC" value="curly" />
                <field name="variable_style_varescaped" default="1"
                       type="checkbox" label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_STYLE_OPTION_VARESCAPED"
                       description="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_STYLE_OPTION_VARESCAPED_DESC" value="varescaped" />
                <field name="variable_style_doublecurly" default="1"
                       type="checkbox" label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_STYLE_OPTION_DOUBLECURLY"
                       description="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_STYLE_OPTION_DOUBLECURLY_DESC" value="doublecurly" />
                <field
                    name="note_variable_replace_behavior_headline"
                    type="note"
                    class="span6"
                    label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_REPLACE_BEHAVIOR_LABEL"
                />
                <field
                    name="note_variable_replace_behavior" class="span6 alert alert-error"
                    type="note"
                    description="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_REPLACE_BEHAVIOR_DESC"
                />
                <field name="replace_undefined_variables" default="0"
                       type="checkbox" label="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_REPLACE_UNDEFINED_VARIABLES_LABEL"
                       description="JFIELD_PLG_GLOBALVARIABLES_VARIABLE_REPLACE_UNDEFINED_VARIABLES_DESC" value="1" />

            </fieldset>
        </fields>
    </config>
    <updateservers>
        <server type="extension" name="globalvariables" priority="1">https://github.com/echterhoff/plg-globalvariables/raw/master/globalvariables_update.xml</server>
    </updateservers>
</extension>
